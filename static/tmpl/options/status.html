<h2>통계</h2>
<hr >
<div class="row">
    <mw-chart id='chart1' style="width: 100%;height:400px;left: 30px;;" ng-model="param">
    </mw-chart>
    <div ng-if="model.show_limit_list" class="col-lg-12">
        <div class="grid">
            <p  class="grid-header">@2020년 12월 31일 사용현황 | {{ model.total_times | convertSummaryTimeToString}} </p>
            <div class="item-wrapper">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <!-- <th>fav</th> -->
                                <th>#</th>
                                <th>카테고리</th>
                                <th>도메인</th>
                                <th>사용 시간</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in model.rows">
                                <td>{{ $index+1 }}</td>
                                <td>{{ row.category | category_to_name }}</td>
                                <td>
                                    {{ row.domain }} <i class="mdi mdi-link-variant"></i>
                                </td>
                                <td>{{ row.seconds | secondToFormat:'HH시간mm분ss초' }}</td>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div ng-if="model.show_full_list" class="col-lg-12">
        <button class="col-md-2 btn btn-danger" ng-click="today()" type="submit">오늘 통계</button>
        <button class="col-md-2 btn btn-danger" ng-click="all()" type="submit">전체 통계</button>
        <div class="grid">
            <p  class="grid-header">{{ model.show_full_list }} !2020년 12월 31일 사용현황 | {{ model.total_times | convertSummaryTimeToString}} </p>
            <div class="item-wrapper">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <!-- <th>fav</th> -->
                                <th>#</th>
                                <th>도메인</th>
                                <th>접속</th>
                                <th>사용량</th>
                                <th>사용 시간</th>
                                <!-- <th width="15%">비율</th> -->
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="row in model.rows">
                                <td>{{ $index+1}}</td>
                                <td>
                                    {{ row.url }} <i class="mdi mdi-link-variant"></i>
                                    <div>
                                        <code>{{ row.category_top | category_to_name }}</code><br >
                                        <code>{{ row.category_sub | category_to_name }}</code>
                                    </div>
                                </td>
                                <!-- <td>{{ row.url }}</td> -->
                                <td class="text-info">{{ row.part.counter | num_comma }} <em class="mdi mdi-arrow-up"></em></td>
                                <td class="text-danger">{{ row.part.dataUsage | dataSizeToUnit }} <em class="mdi mdi-arrow-down"></em></td>
                                <td>
                                    {{ row.part.summary | convertSummaryTimeToString }} 
                                    <div class="progress progress-slim mt-2">
                                        <div class="progress-bar bg-primary" role="progressbar" 
                                            style="width: {{ row.part.summary | percentage:model.todal_total_times  }}%" 
                                            aria-valuenow="{{ row.part.summary | percentage:model.todal_total_times }}" 
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                      </div>
                                </td>
                                <!-- <td>
                                    {{ row.part.summary | percentage:model.todal_total_times  }}%
                                    <div class="progress progress-slim mt-2">
                                        <div class="progress-bar bg-primary" role="progressbar" 
                                            style="width: {{ row.part.summary | percentage:model.todal_total_times  }}%" 
                                            aria-valuenow="{{ row.part.summary | percentage:model.todal_total_times }}" 
                                            aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                      </div>
                                </td> -->
                            </tr>
                            <!-- <tr>
                                <td>fav</td>
                                <td>google.com</td>
                                <td>34,234</td>
                                <td>
                                    <div class="progress progress-slim">
                                        <div class="progress-bar bg-info progress-bar-striped" role="progressbar"
                                            style="width: 35%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                </td>
                                <td class="text-success"> 40MB(15.67%) <i class="mdi mdi-arrow-up"></i>
                                </td>
                                <td class="text-success"> 0시간 30분 02초(15.67%) <i class="mdi mdi-arrow-up"></i>
                                </td>
                            </tr>
                            <tr>
                                <td>fav</td>
                                <td>google.com</td>
                                <td>34,234</td>
                                <td>
                                    <div class="progress progress-slim">
                                        <div class="progress-bar bg-info progress-bar-striped" role="progressbar"
                                            style="width: 35%" aria-valuenow="35" aria-valuemin="0" aria-valuemax="100">
                                        </div>
                                    </div>
                                </td>
                                <td class="text-success"> 1G(5.67%) <i class="mdi mdi-arrow-down"></i>
                                </td>
                                <td class="text-success"> 5시간 30분 02초(86.1%) <i class="mdi mdi-arrow-up"></i>
                                </td>
                            </tr> -->

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>